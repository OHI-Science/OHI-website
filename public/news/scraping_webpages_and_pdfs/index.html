<!DOCTYPE html>
<html lang="en-US"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="http://localhost:1313/news/scraping_webpages_and_pdfs/">
  <meta name="description" content="Scraping Webpages and PDF&rsquo;s in R with rvest and tabulizer by Peter Menzies
Wed, Sep 07, 2022
Overview Sometimes the data we need aren&rsquo;t readily accessible — this shouldn&rsquo;t be news to any of us who regularly work with and seek out datasets. The following post will walk through an R script we wrote to scrape download links from a webpage, download the PDFs found at those links, and then extract data from the downloaded documents."/>
  <meta name="date" content='August 30, 2024 10:28:39 EDT'>
  <title>Scraping Webpages and PDF&#39;s in R | OHI</title>
  <link rel="stylesheet" href="http://localhost:1313/style.main.min.be81eaa14848f2d569f520523ff3c1874cf717146950af8fcf7b5cac347f8ec1.css?v=2024-08-30_10.28.39_-0400" media="screen">
  <link rel="shortcut icon" href="http://localhost:1313/images/favicon.png" type="image/x-icon">
  <link rel="icon" href="http://localhost:1313/images/favicon.png" type="image/x-icon">
  
<link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-100.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-100.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-100italic.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-100italic.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-200.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-200.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-200italic.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-200italic.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-300.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-300.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-300italic.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-300italic.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-500.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-500.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-600.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-600.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-700.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-700.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-800.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-800.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-900.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-900.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-italic.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-italic.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-regular.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-regular.woff2" crossorigin="anonymous"></head><body>

<nav class="nav" role="navigation" aria-label="Main menu">

  <button
    id="menu-button"
    class="menu-button"
    aria-expanded="false"
    aria-controls="main-menu"
    aria-label="Show main menu"
    aria-haspopup="true"
  >
    <span class="menu-button__icon">
      <span class="menu-button__line"></span>
      <span class="menu-button__line"></span>
      <span class="menu-button__line"></span>
    </span>

  </button>

  <a
    class="nav__logo"
    href="http://localhost:1313/"
    role="menuitem"
    title="Ocean Health Index Homepage"
  >






  
  


<svg class="logo" viewBox="0 0 2657 1024" xmlns="http://www.w3.org/2000/svg" title="Ocean Health Index">
  <g class="logo__image">
    <path d="M586 777l-25 188 3 4 3-3 25-188-6-1zM567 773l-49 184c0 3 0 4 3 4h1l4-3 48-184-7-1zM548 766l-72 175c-1 3 0 5 2 5h2l4-2 72-175-8-3zM368 878c3 0 4-1 7-3l134-134-12-11-134 134c-3 2-3 6-2 9l-74 75c-2 1-2 2 0 4l2 1 3-1 75-75c-2 0 0 1 1 1zM402 906c3 0 4-2 5-3l116-151-12-9-115 151c-2 2-2 5 0 8l-66 85v4h1l3-1 66-86 2 2zM528 756l-94 164c-2 1-2 4 0 7l-54 94c-1 2 0 3 1 4h2l2-1 54-95c3 0 4-1 5-2l95-166-11-5zM687 758l-2 2 95 164 1 1h1v-2l-95-165zM669 768l-4 1 72 175 2 1h1l1-2-72-175z"/>
    <path d="M1244 585c11-11 18-26 15-42-2-19-14-33-31-40 12-10 17-27 12-44-6-19-21-32-39-33 12-12 16-30 10-46-8-19-28-29-46-26 13-14 15-33 6-49a39 39 0 00-55-14l-8 3 7-5c17-13 19-37 6-52a37 37 0 00-52-7l-38 29 34-36c14-14 14-36 0-49a34 34 0 00-50 0l-61 60 53-68c10-15 8-36-7-46s-35-8-46 6l-76 99 62-108c8-14 4-33-11-42-14-8-33-4-42 10l-64 112-3 1-1-3 49-117c6-15-2-31-15-37-14-6-30 1-37 14l-50 120-6 4c0-3-2-5-3-7l33-125c4-13-4-27-18-31s-28 4-32 18l-33 125-9 8-5-11 17-127c1-12-7-24-20-25-12-1-24 7-25 20l-17 127c-5 4-8 8-10 15-2-6-6-11-10-15V20a19 19 0 10-39 0v129c-7 5-11 13-11 22v1c-1-9-6-16-13-21L548 22c-1-9-10-17-20-15s-17 10-15 19l17 129c-6 7-9 15-8 24l5 35-9-34c-3-9-9-16-17-18L467 35c-3-7-11-13-19-10s-13 10-10 18l34 127c-5 6-8 15-5 23l17 62-25-58c-4-8-11-13-20-14L389 62c-3-7-10-9-17-7s-9 11-7 17l50 121c-5 7-6 16-2 24l35 87-47-82c-4-8-13-12-21-12L314 96c-2-5-9-7-14-4s-7 9-4 14l65 115c-5 6-5 16-1 24l49 84v2l-3-1-59-76c-5-7-14-10-22-8l-81-105c-2-4-7-4-10-2-4 3-4 8-1 11l80 105c-4 7-4 17 1 24l59 77v5l-5-1-68-68c-6-5-15-7-21-4l-95-95c-3-2-7-2-9 0s-3 7 0 9l94 95c-3 7-2 16 4 21l69 68 2 10c-2-2-6-2-9 0l-76-59c-7-6-15-4-20 0l-108-83c-2-2-5-2-6 1s-1 5 1 7l108 82c-3 7 0 15 5 20l76 59c0 4 3 9 6 12h-13l-85-49c-5-3-13-2-17 2L87 319c-3-1-6 0-7 2s0 5 1 6l120 69c-1 6 1 13 8 15l84 49c1 7 5 12 11 15l4 2h-6c-6-2-13-1-18 1l-89-36c-6-3-12 0-16 4L50 392c-1-2-4 0-5 2s0 4 2 6l129 54c0 5 3 11 8 13l89 36c2 7 7 12 12 15l25 10-26-6c-7-1-13 0-18 4l-95-25c-5-1-11 1-13 5L24 467c-2 0-4 0-4 2s0 4 2 4l137 37c0 5 4 9 8 11l95 25c2 6 6 10 13 13l47 13-49-7c-6-1-13 2-17 7l-97-13c-4 0-8 1-9 5L8 546l-4 2 3 4 142 19c1 3 3 6 7 7l98 14c2 5 8 10 14 10l70 9h-70c-6 0-12 4-16 9h-98c-3 0-7 3-7 6H3c-2 0-3 1-3 2l3 3h144c2 3 4 5 7 5h98c3 5 8 9 16 9h92l-91 12c-6 2-11 6-13 12l-98 13c-3 0-6 3-6 7 0 2 3 5 6 5h1l99-13c2 5 8 8 13 8h2l113-15-110 28c-5 1-9 7-10 12l-98 26c-2 1-4 4-4 7s3 4 6 4h1l97-27c3 4 7 7 12 7h4l130-36-125 52c-5 2-8 8-8 13l-93 39c-1 2-3 3-3 5s3 3 4 3h2l93-39 9 5 5-1 145-61-135 79c-4 3-7 8-6 12l-89 51c-1 1-3 4-1 5l4 2h1l89-52 8 3 5-1 156-90-142 108c-4 3-6 7-4 11l-83 63c-2 1-2 2 0 4l2 1 2-1 83-63 5 1 6-3 152-115c-24-27-39-62-39-100a151 151 0 11293 50h465c27 0 50-23 50-50 2-17-7-33-21-41z"/>
    <path d="M627 778l25 188c0 1 1 3 3 3l2-3-25-188h-5zM647 774l48 184c0 2 2 2 2 2l1-3-49-184-2 1zM610 780h-3v190l3 3 3-3V780h-3z"/>
  </g>
  
  <g class="logo__title">
    <path d="M1496 406c-89 0-141-66-141-140s53-141 141-141c89 0 141 66 141 141 0 76-52 140-141 140zm0-223c-41 0-71 25-71 84 0 39 17 84 71 84 51 0 71-43 71-84 0-42-20-84-71-84z"/>
    <path d="M1822 222c-9-25-32-39-55-39-37 0-66 25-66 84 0 39 16 84 68 84 19 0 44-13 54-37l53 25c-23 41-62 68-107 68-84 0-134-65-134-140s46-141 129-141c53 0 87 25 112 70l-54 26zM1885 400V134h196v51h-129v49h121v51h-121v63h141v52h-208z"/>
    <path d="M2182 134h68l100 266h-71l-13-42h-97l-13 42h-71l97-266zm68 175l-32-109h-2l-33 109h67z"/>
    <path d="M2342 134h67l96 170h2V134h60v266h-65l-98-167h-1v167h-61V134zM1366 419h65v96h99v-96h66v265h-66V572h-97v112h-66V419zM1625 684V419h196v52h-129v48h121v51h-121v64h140v50h-207z"/>
    <path d="M1922 419h68l100 266h-71l-13-42h-99l-13 42h-71l99-266zm68 174l-33-109h-1l-33 109h67z"/>
    <path d="M2082 419h66v209h104v56h-170V419zM2210 419h205v52h-70v213h-66V471h-69v-52zM2424 419h66v96h98v-96h66v265h-66V572h-98v112h-66V419zM1366 703h65v266h-65V703zM1462 703h67l96 170h1V703h61v266h-68l-97-167h-1v167h-61V703zM1713 703h102c82 0 136 38 136 133s-54 133-136 133h-102V703zm67 211h38c50 0 67-35 67-77 0-43-18-76-68-76h-38v153zM1964 969V703h196v52h-129v48h121v51h-121v64h141v51h-208z"/>
    <path d="M2262 826l-88-123h80l49 80 49-80h79l-87 123 101 143h-82l-61-99-63 99h-81l104-143z"/>
    <path d="M2431 703h23v7h-8v25h-8v-25h-7v-7zM2458 703h12l5 23 5-23h11v30h-7v-23l-6 23h-7l-6-23v23h-7v-30z"/>
  </g>
  
</svg></a>

  <ul id="main-menu" class="nav__menu" role="menubar" aria-labelledby="menu-button">

    

      
      
  
      <li class="nav__item nav__item--toplevel" role="none">
          <a
            class="nav__link nav__link--toplevel"
            role="menuitem"
            aria-controls="global-scores"
            aria-label="Global Scores submenu toggle"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            Global Scores
          </a>
          <ul class="nav__submenu" id="global-scores" role="menu" aria-label="Global Scores">
           
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/global-scores/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Scores by country
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/global-scores/goal-scores/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Scores by goal
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/global-scores/data-download/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Data Download
                </a>
              </li>
            

          </ul>
        </li>

      

    

      
      
  
      <li class="nav__item nav__item--toplevel" role="none">
          <a
            class="nav__link nav__link--toplevel"
            role="menuitem"
            aria-controls="methodology"
            aria-label="Methodology submenu toggle"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            Methodology
          </a>
          <ul class="nav__submenu" id="methodology" role="menu" aria-label="Methodology">
           
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/methodology/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Methods Overview
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/goals/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Goals
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/methodology/pressure/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Pressure Description
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/methodology/resilience/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Resilience Description
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/methodology/deep-dive/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Deep Dive
                </a>
              </li>
            

          </ul>
        </li>

      

    

      
      
  
      <li class="nav__item nav__item--toplevel" role="none">
          <a
            class="nav__link nav__link--toplevel"
            role="menuitem"
            aria-controls="ohib-stylecolor#f26c25&#43;/b"
            aria-label="OHI&lt;b style=&#34;color:#f26c25&#34;&gt;&#43;&lt;/b&gt; submenu toggle"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            OHI<b style="color:#f26c25">+</b>
          </a>
          <ul class="nav__submenu" id="ohib-stylecolor#f26c25&#43;/b" role="menu" aria-label="OHI&lt;b style=&#34;color:#f26c25&#34;&gt;&#43;&lt;/b&gt;">
           
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/ohi&#43;/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  What is OHI&#43;
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/ohi&#43;/assessment/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Regional Assessments
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/ohi&#43;/conduct/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Conduct an OHI&#43;
                </a>
              </li>
            

          </ul>
        </li>

      

    

      
      
  
      <li class="nav__item nav__item--toplevel" role="none">
          <a
            class="nav__link nav__link--toplevel"
            role="menuitem"
            aria-controls="resources"
            aria-label="Resources submenu toggle"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            Resources
          </a>
          <ul class="nav__submenu" id="resources" role="menu" aria-label="Resources">
           
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/resources/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Overview
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/resources/tools/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Tools
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/resources/data/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Data
                </a>
              </li>
            

          </ul>
        </li>

      

    

      
      
        
      
  
      <li class="nav__item nav__item--toplevel nav__item--current" role="none">
          <a
            class="nav__link nav__link--toplevel"
            role="menuitem"
            aria-controls="about"
            aria-label="About submenu toggle"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            About
          </a>
          <ul class="nav__submenu" id="about" role="menu" aria-label="About">
           
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  What is OHI
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/news/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  News
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/ohifellows/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  OHI Fellows
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/people/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  People
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/publications/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Publications
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/supporters/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Supporters
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/contact/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Contact
                </a>
              </li>
            

          </ul>
        </li>

      

    
  </ul>
</nav>





  

  

  

  
    
  













<header class="page-header" style="background-image: url('/images/banners/html.png');" >
  <div class="header-gradient"></div>
  <h1 class="page-header__title">Scraping Webpages and PDF&#39;s in R</h1>
  
  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

</header><div  class="breadcrumb">
  
  
    
  
    
  
  
  <a class = "breadcrumb-item" href="http://localhost:1313/">&nbspHome</a> >
  

  
  
  <a class = "breadcrumb-item" href="http://localhost:1313/news/">&nbspNews</a> >
  

  
  
  <a class = "breadcrumb-item current" href="http://localhost:1313/news/scraping_webpages_and_pdfs/">&nbspScraping Webpages and PDF&#39;s in R</a>
  

</div>


<section class="section"><div class="column-left">
  <h2 class = "column-left__title">
    Overview
  </h2>
  <div class="column-left__logo">


  






<svg class="logo logo--subtle" viewBox="0 0 1266 1024" xmlns="http://www.w3.org/2000/svg" >
  <g class="logo__image">
    <path d="M586 777l-25 188 3 4 3-3 25-188-6-1zM567 773l-49 184c0 3 0 4 3 4h1l4-3 48-184-7-1zM548 766l-72 175c-1 3 0 5 2 5h2l4-2 72-175-8-3zM368 878c3 0 4-1 7-3l134-134-12-11-134 134c-3 2-3 6-2 9l-74 75c-2 1-2 2 0 4l2 1 3-1 75-75c-2 0 0 1 1 1zM402 906c3 0 4-2 5-3l116-151-12-9-115 151c-2 2-2 5 0 8l-66 85v4h1l3-1 66-86 2 2zM528 756l-94 164c-2 1-2 4 0 7l-54 94c-1 2 0 3 1 4h2l2-1 54-95c3 0 4-1 5-2l95-166-11-5zM687 758l-2 2 95 164 1 1h1v-2l-95-165zM669 768l-4 1 72 175 2 1h1l1-2-72-175z"/>
    <path d="M1244 585c11-11 18-26 15-42-2-19-14-33-31-40 12-10 17-27 12-44-6-19-21-32-39-33 12-12 16-30 10-46-8-19-28-29-46-26 13-14 15-33 6-49a39 39 0 00-55-14l-8 3 7-5c17-13 19-37 6-52a37 37 0 00-52-7l-38 29 34-36c14-14 14-36 0-49a34 34 0 00-50 0l-61 60 53-68c10-15 8-36-7-46s-35-8-46 6l-76 99 62-108c8-14 4-33-11-42-14-8-33-4-42 10l-64 112-3 1-1-3 49-117c6-15-2-31-15-37-14-6-30 1-37 14l-50 120-6 4c0-3-2-5-3-7l33-125c4-13-4-27-18-31s-28 4-32 18l-33 125-9 8-5-11 17-127c1-12-7-24-20-25-12-1-24 7-25 20l-17 127c-5 4-8 8-10 15-2-6-6-11-10-15V20a19 19 0 10-39 0v129c-7 5-11 13-11 22v1c-1-9-6-16-13-21L548 22c-1-9-10-17-20-15s-17 10-15 19l17 129c-6 7-9 15-8 24l5 35-9-34c-3-9-9-16-17-18L467 35c-3-7-11-13-19-10s-13 10-10 18l34 127c-5 6-8 15-5 23l17 62-25-58c-4-8-11-13-20-14L389 62c-3-7-10-9-17-7s-9 11-7 17l50 121c-5 7-6 16-2 24l35 87-47-82c-4-8-13-12-21-12L314 96c-2-5-9-7-14-4s-7 9-4 14l65 115c-5 6-5 16-1 24l49 84v2l-3-1-59-76c-5-7-14-10-22-8l-81-105c-2-4-7-4-10-2-4 3-4 8-1 11l80 105c-4 7-4 17 1 24l59 77v5l-5-1-68-68c-6-5-15-7-21-4l-95-95c-3-2-7-2-9 0s-3 7 0 9l94 95c-3 7-2 16 4 21l69 68 2 10c-2-2-6-2-9 0l-76-59c-7-6-15-4-20 0l-108-83c-2-2-5-2-6 1s-1 5 1 7l108 82c-3 7 0 15 5 20l76 59c0 4 3 9 6 12h-13l-85-49c-5-3-13-2-17 2L87 319c-3-1-6 0-7 2s0 5 1 6l120 69c-1 6 1 13 8 15l84 49c1 7 5 12 11 15l4 2h-6c-6-2-13-1-18 1l-89-36c-6-3-12 0-16 4L50 392c-1-2-4 0-5 2s0 4 2 6l129 54c0 5 3 11 8 13l89 36c2 7 7 12 12 15l25 10-26-6c-7-1-13 0-18 4l-95-25c-5-1-11 1-13 5L24 467c-2 0-4 0-4 2s0 4 2 4l137 37c0 5 4 9 8 11l95 25c2 6 6 10 13 13l47 13-49-7c-6-1-13 2-17 7l-97-13c-4 0-8 1-9 5L8 546l-4 2 3 4 142 19c1 3 3 6 7 7l98 14c2 5 8 10 14 10l70 9h-70c-6 0-12 4-16 9h-98c-3 0-7 3-7 6H3c-2 0-3 1-3 2l3 3h144c2 3 4 5 7 5h98c3 5 8 9 16 9h92l-91 12c-6 2-11 6-13 12l-98 13c-3 0-6 3-6 7 0 2 3 5 6 5h1l99-13c2 5 8 8 13 8h2l113-15-110 28c-5 1-9 7-10 12l-98 26c-2 1-4 4-4 7s3 4 6 4h1l97-27c3 4 7 7 12 7h4l130-36-125 52c-5 2-8 8-8 13l-93 39c-1 2-3 3-3 5s3 3 4 3h2l93-39 9 5 5-1 145-61-135 79c-4 3-7 8-6 12l-89 51c-1 1-3 4-1 5l4 2h1l89-52 8 3 5-1 156-90-142 108c-4 3-6 7-4 11l-83 63c-2 1-2 2 0 4l2 1 2-1 83-63 5 1 6-3 152-115c-24-27-39-62-39-100a151 151 0 11293 50h465c27 0 50-23 50-50 2-17-7-33-21-41z"/>
    <path d="M627 778l25 188c0 1 1 3 3 3l2-3-25-188h-5zM647 774l48 184c0 2 2 2 2 2l1-3-49-184-2 1zM610 780h-3v190l3 3 3-3V780h-3z"/>
  </g>
  
</svg></div>
</div><div class="column-center">
  </br>
</br>
<h1 id="scraping-webpages-and-pdfs-in-r-with-rvest-and-tabulizer">Scraping Webpages and PDF&rsquo;s in R with <code>rvest</code> and <code>tabulizer</code></h1>
<p class="news-author">by Peter Menzies</p>
<p class="news-date">Wed, Sep 07, 2022</p>
<h2 id="overview">Overview</h2>
<p>Sometimes the data we need aren&rsquo;t readily accessible — this shouldn&rsquo;t be news to any of us who regularly work with and seek out datasets. The following post will walk through an R script we wrote to scrape download links from a webpage, download the PDFs found at those links, and then extract data from the downloaded documents. While this is a fairly specific use case, the packages and methods found here can easily be tweaked and applied more broadly.</p>
<h2 id="the-use-case">The Use Case</h2>
<p>One of the component data layers of the Tourism and Recreation OHI goal is the percent of total jobs in a region that are directly tied to tourism. In the past we&rsquo;ve conveniently retrieved these data from the World Travel and Tourism Council (WTTC), but this was not possible for this year&rsquo;s assessment. We were able to access 2018 and 2020 tourism employment data indirectly via the World Economic Forum&rsquo;s Travel and Tourism Development Index (TTDI) &mdash; however, this only provided values for countries and did not separately include the many territories we assess as part of the OHI. Fortunately, we discovered that the WTTC <em>did</em> provide percent <em>change</em> in tourism employment that we could use along with the 2019 data we already had to calculate the values we needed. The one caveat was that the percent change data were located in highly formatted tables on 185 individual PDFs, each of which are linked separately on <a href="https://wttc.org/Research/Economic-Impact">the page</a> shown below&hellip; This presented two options: several hours of mind numbing manual file downloading and data transcribing, or whipping up an automated scraping / extraction pipeline. The latter sounded a lot more fun.</p>
</br>
<center>
<img src="/images/wttc_report_download_links.png"/>
<figcaption>Why bother clicking on all these links when we can write a script do it for us?</figcaption>
</center>
<h2 id="packages-used">Packages used</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(tidyverse)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(here)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(rvest)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(purrr)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(tabulizer)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(rJava)
</span></span></code></pre></div></br>
<p><code>rvest</code> is used to scrape the PDF download links from the webpage, <code>purrr</code> is used to iteratively download the files, and <code>tabulizer</code> is used to extract tables from the PDFs, and <code>rJava</code> is needed to use <code>tabulizer</code>.</p>
<h2 id="scraping-links--downloading-the-files">Scraping links &amp; downloading the files</h2>
</br>
<p>The code below will pull all of the PDF download links from the webpage and download them to a specified directory on our machine.</p>
<p>We use <code>rvest::read_html()</code> to read the html from the webpage into an xml object in our environment. <code>rvest::html_elements(&quot;a&quot;)</code> is then called which finds all links within the xml object because links are denoted by the html tag <code>&lt;a&gt;</code>. To extract just the underlying URL and not the text associated with the link on the page, we use <code>rvest::html_attr(&quot;href&quot;)</code> &mdash; the <code>href</code> attribute is where the URL is specified.</p>
<p>We now have a vector of all the URLs linked on the page. Because there are additional links beyond just the PDFs, we need to subset the URLs. A quick look at a few of the PDF download links revealed that each has &ldquo;/QuickDownload&rdquo; in it. Using that pattern, we subset our vector with <code>stringr::str_subset()</code>, and then remove duplicated links.</p>
<p>The next part of the pipe sequence uses the <code>purrr::walk2()</code> function which iteratively passes two arguments from two lists to a particular function. Unlike <code>purrr::map2()</code>, <code>walk2()</code> returns the input <code>.x</code> invisibly &mdash; this is preferred as the sole outcome we want is for the files to be downloaded onto our machine. We feed in the subset of URLs, along with a vector of file names. The file names are created by extracting the unique id associated with each document from its URL and pasting it into the format <code>{path_to_file}/wttc_{id_num}.pdf</code>. Lastly, <code>download.file()</code> is passed in as the function to be applied.</p>
<p>When this finishes running, all the PDFs will be in the directory we created!</p>
</br>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># pull html from the page of interest</span>
</span></span><span style="display:flex;"><span>page <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read_html</span>(<span style="color:#e6db74">&#34;https://wttc.org/Research/Economic-Impact&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># name and create our download destination folder</span>
</span></span><span style="display:flex;"><span>pdf_dir <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">here</span>(<span style="color:#a6e22e">paste0</span>(<span style="color:#e6db74">&#34;globalprep/tr/v&#34;</span>, version_year, <span style="color:#e6db74">&#34;/wttc_pdfs/&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dir.create</span>(pdf_dir)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>raw_list <span style="color:#f92672">&lt;-</span> page <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># takes the page above for which we&#39;ve read the html</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">html_elements</span>(<span style="color:#e6db74">&#34;a&#34;</span>) <span style="color:#f92672">%&gt;%</span>  <span style="color:#75715e"># find all links in the page</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">html_attr</span>(<span style="color:#e6db74">&#34;href&#34;</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># get the url for these links</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">str_subset</span>(<span style="color:#e6db74">&#34;/QuickDownload&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">unique</span>() <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">walk2</span>(., <span style="color:#a6e22e">paste0</span>(pdf_dir, <span style="color:#e6db74">&#34;wttc_&#34;</span>, <span style="color:#75715e"># extract unique identifier from URL for file name, and download file</span>
</span></span><span style="display:flex;"><span>                  (<span style="color:#a6e22e">str_remove</span>(., <span style="color:#e6db74">&#34;https://wttc.org/Research/Economic-Impact/moduleId/704/itemId/&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>                     <span style="color:#a6e22e">str_remove</span>(<span style="color:#e6db74">&#34;/controller/DownloadRequest/action/QuickDownload&#34;</span>)), <span style="color:#e6db74">&#34;.pdf&#34;</span>),
</span></span><span style="display:flex;"><span>        download.file, mode <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;wb&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span></code></pre></div></br>
</br>
<h2 id="getting-setup-for-our-pdf-scraping-loop">Getting setup for our PDF scraping loop</h2>
</br>
<p>Here we create a vector with the names of all the files we just downloaded and make an empty dataframe to be populated with the values we&rsquo;ll scrape from the PDFs.</p>
</br>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># vector of names of files we downloaded</span>
</span></span><span style="display:flex;"><span>files <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">list.files</span>(<span style="color:#a6e22e">here</span>(<span style="color:#a6e22e">paste0</span>(<span style="color:#e6db74">&#34;globalprep/tr/v&#34;</span>, version_year, <span style="color:#e6db74">&#34;/wttc_pdfs&#34;</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>n_countries <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">length</span>(files)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dataframe to be populated with extracted values</span>
</span></span><span style="display:flex;"><span>tr_jobs_pct_change <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(<span style="color:#e6db74">&#34;country&#34;</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">vector</span>(mode <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;character&#34;</span>, 
</span></span><span style="display:flex;"><span>                                 length <span style="color:#f92672">=</span> n_countries),
</span></span><span style="display:flex;"><span>                                 <span style="color:#e6db74">&#34;pct_change_2020&#34;</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">vector</span>(mode <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;character&#34;</span>, 
</span></span><span style="display:flex;"><span>                                 length <span style="color:#f92672">=</span> n_countries),
</span></span><span style="display:flex;"><span>                                 <span style="color:#e6db74">&#34;pct_change_2021&#34;</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">vector</span>(mode <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;character&#34;</span>, 
</span></span><span style="display:flex;"><span>                                 length <span style="color:#f92672">=</span> n_countries))
</span></span></code></pre></div></br>
</br>
<h2 id="loop-to-extract-data-from-pdfs">Loop to extract data from PDFs</h2>
</br>
<center>
<img src="/images/thailand_wttc_pdf.png" style="width:600px;height:780px;"/>
<figcaption>Here's the kind of formatting we're working with; the values we're after are indicated by the red arrows.</figcaption>
</center>
</br>
</br>
<p>The following loop uses <code>tabulizer::extract_tables()</code> to read in the data from each document as a dataframe. We then pull the values of interest from the dataframe and insert them in the final dataframe we created above.</p>
<p><code>tabulizer</code> provides a series of R wrapper functions for the <code>Tabula</code> java library.</p>
<p>The loop passes each full file path into <code>extract_tables()</code>. The documents are two pages each but we only want the first, so we pass in <code>1</code> for the <code>pages</code> argument. The <code>area</code> argument can be used to specify a certain area of the document that you want to be extracted &mdash; this is done using pixel coordinates. Due to the highly formatted nature of these PDFs, doing so will help us get the best output dataframe possible, with the least amount of manipulation afterwards. There are many ways to find the pixel coordinates of a table in a PDF &mdash; I opened the file in GIMP (an open source image manipulation program similar to Photoshop) and determined the bounding coordinates there. The order of pixel bounds is top, left, bottom, right. The <code>method</code> argument refers to the <code>Tabula</code> extraction algorithm that will be used. One is optimized for spreadsheet-like documents, the other is generalized &mdash; passing in <code>&quot;decide&quot;</code> lets the function automatically determine whether the document is or isn&rsquo;t spreadsheet-like.</p>
<p>While <code>Tabula</code> and the <code>tabulizer</code> package are incredibly powerful tools, the way these PDFs are formatted causes our output dataframes from <code>extract_tables()</code> to be quite disorderly. The good news is that the formatting is entirely consistent between documents, and we only need a few values from each page &mdash; so we can just index the cells that we need from the resulting dataframe despite its untidiness.</p>
<p>The next few parts of the loop pull out the country name and the percent change in contribution of tourism to employment, and then assign those values to a row in the final dataframe.</p>
<p>After this process, it was crucial to check a number of the values against what was in the PDFs to make sure everything looked correct.</p>
</br>
</br>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (i <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">seq_along</span>(files)) {
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  df <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">extract_tables</span>(
</span></span><span style="display:flex;"><span>    file <span style="color:#f92672">=</span> <span style="color:#a6e22e">paste0</span>(<span style="color:#e6db74">&#34;globalprep/tr/v&#34;</span>, version_year, <span style="color:#e6db74">&#34;/wttc_pdfs/&#34;</span>, files[i]), 
</span></span><span style="display:flex;"><span>    pages <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>    area <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">360</span>, <span style="color:#ae81ff">38</span>, <span style="color:#ae81ff">1120</span>, <span style="color:#ae81ff">770</span>)),
</span></span><span style="display:flex;"><span>    method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;decide&#34;</span>, 
</span></span><span style="display:flex;"><span>    output <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;data.frame&#34;</span>)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  country <span style="color:#f92672">&lt;-</span> df[[1]][2, <span style="color:#ae81ff">1</span>] <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">str_remove</span>(<span style="color:#e6db74">&#34; Key Data&#34;</span>)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  pct_change_2020 <span style="color:#f92672">&lt;-</span> df[[1]][15, <span style="color:#ae81ff">1</span>] <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">str_remove</span>(<span style="color:#e6db74">&#34;Change: &#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">str_remove</span>(<span style="color:#e6db74">&#34;%&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">as.numeric</span>()
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  pct_change_2021 <span style="color:#f92672">&lt;-</span> df[[1]][16, <span style="color:#ae81ff">1</span>] <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">str_remove</span>(<span style="color:#e6db74">&#34;Change: &#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">str_remove</span>(<span style="color:#e6db74">&#34;%&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">as.numeric</span>()
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  tr_jobs_pct_change[i, ] <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(country, pct_change_2020, pct_change_2021)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></br>
</br>
<h2 id="export-dataframe-as-a-csv-and-delete-pdfs">Export dataframe as a CSV and delete PDFs</h2>
<p>Now we can just save our dataframe as a CSV and get rid of all the PDFs.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">write_csv</span>(tr_jobs_pct_change, <span style="color:#a6e22e">here</span>(<span style="color:#a6e22e">paste0</span>(<span style="color:#e6db74">&#34;globalprep/tr/v&#34;</span>, version_year, <span style="color:#e6db74">&#34;/intermediate/tr_jobs_pct_change.csv&#34;</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># delete all downloaded pdfs</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">unlink</span>(pdf_dir, recursive <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</span></span></code></pre></div></br>
<h2 id="conclusion">Conclusion</h2>
<p>In theory, if the WTTC uses this same format for their reports in future years, this workflow could be reused as is. If not, we would likely only need to change the pixel coordinates and the row/column indices used to get the desired values. Either way this was a fun project that saved us from monotonous work and may continue do so for future fellows!</p>

</div><div class="column-right">
  
  

  
  
  

  
  
  
    
      
      
    
      
      
    
      
      
    
  
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
  
    
      
      
    
      
      
    
      
      
    
  
    
      
      
    
      
      
    
      
      
    
  
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
  

  
  

  
    
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
      
    
    
      
    
  

  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/" class="right-nav-item">What is OHI</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/news/" class="right-nav-item">News</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/ohifellows/" class="right-nav-item">OHI Fellows</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/people/" class="right-nav-item">People</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/publications/" class="right-nav-item">Publications</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/supporters/" class="right-nav-item">Supporters</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/contact/" class="right-nav-item">Contact</a>
    </div>
  
</div></section>


<footer class="footer">
  <div class="footer__content footer__content--top">
    <a class="footer__logo" href="http://localhost:1313/">


  





  
  


<svg class="logo logo--dark" viewBox="0 0 2657 1024" xmlns="http://www.w3.org/2000/svg" title="Ocean Health Index">
  <g class="logo__image">
    <path d="M586 777l-25 188 3 4 3-3 25-188-6-1zM567 773l-49 184c0 3 0 4 3 4h1l4-3 48-184-7-1zM548 766l-72 175c-1 3 0 5 2 5h2l4-2 72-175-8-3zM368 878c3 0 4-1 7-3l134-134-12-11-134 134c-3 2-3 6-2 9l-74 75c-2 1-2 2 0 4l2 1 3-1 75-75c-2 0 0 1 1 1zM402 906c3 0 4-2 5-3l116-151-12-9-115 151c-2 2-2 5 0 8l-66 85v4h1l3-1 66-86 2 2zM528 756l-94 164c-2 1-2 4 0 7l-54 94c-1 2 0 3 1 4h2l2-1 54-95c3 0 4-1 5-2l95-166-11-5zM687 758l-2 2 95 164 1 1h1v-2l-95-165zM669 768l-4 1 72 175 2 1h1l1-2-72-175z"/>
    <path d="M1244 585c11-11 18-26 15-42-2-19-14-33-31-40 12-10 17-27 12-44-6-19-21-32-39-33 12-12 16-30 10-46-8-19-28-29-46-26 13-14 15-33 6-49a39 39 0 00-55-14l-8 3 7-5c17-13 19-37 6-52a37 37 0 00-52-7l-38 29 34-36c14-14 14-36 0-49a34 34 0 00-50 0l-61 60 53-68c10-15 8-36-7-46s-35-8-46 6l-76 99 62-108c8-14 4-33-11-42-14-8-33-4-42 10l-64 112-3 1-1-3 49-117c6-15-2-31-15-37-14-6-30 1-37 14l-50 120-6 4c0-3-2-5-3-7l33-125c4-13-4-27-18-31s-28 4-32 18l-33 125-9 8-5-11 17-127c1-12-7-24-20-25-12-1-24 7-25 20l-17 127c-5 4-8 8-10 15-2-6-6-11-10-15V20a19 19 0 10-39 0v129c-7 5-11 13-11 22v1c-1-9-6-16-13-21L548 22c-1-9-10-17-20-15s-17 10-15 19l17 129c-6 7-9 15-8 24l5 35-9-34c-3-9-9-16-17-18L467 35c-3-7-11-13-19-10s-13 10-10 18l34 127c-5 6-8 15-5 23l17 62-25-58c-4-8-11-13-20-14L389 62c-3-7-10-9-17-7s-9 11-7 17l50 121c-5 7-6 16-2 24l35 87-47-82c-4-8-13-12-21-12L314 96c-2-5-9-7-14-4s-7 9-4 14l65 115c-5 6-5 16-1 24l49 84v2l-3-1-59-76c-5-7-14-10-22-8l-81-105c-2-4-7-4-10-2-4 3-4 8-1 11l80 105c-4 7-4 17 1 24l59 77v5l-5-1-68-68c-6-5-15-7-21-4l-95-95c-3-2-7-2-9 0s-3 7 0 9l94 95c-3 7-2 16 4 21l69 68 2 10c-2-2-6-2-9 0l-76-59c-7-6-15-4-20 0l-108-83c-2-2-5-2-6 1s-1 5 1 7l108 82c-3 7 0 15 5 20l76 59c0 4 3 9 6 12h-13l-85-49c-5-3-13-2-17 2L87 319c-3-1-6 0-7 2s0 5 1 6l120 69c-1 6 1 13 8 15l84 49c1 7 5 12 11 15l4 2h-6c-6-2-13-1-18 1l-89-36c-6-3-12 0-16 4L50 392c-1-2-4 0-5 2s0 4 2 6l129 54c0 5 3 11 8 13l89 36c2 7 7 12 12 15l25 10-26-6c-7-1-13 0-18 4l-95-25c-5-1-11 1-13 5L24 467c-2 0-4 0-4 2s0 4 2 4l137 37c0 5 4 9 8 11l95 25c2 6 6 10 13 13l47 13-49-7c-6-1-13 2-17 7l-97-13c-4 0-8 1-9 5L8 546l-4 2 3 4 142 19c1 3 3 6 7 7l98 14c2 5 8 10 14 10l70 9h-70c-6 0-12 4-16 9h-98c-3 0-7 3-7 6H3c-2 0-3 1-3 2l3 3h144c2 3 4 5 7 5h98c3 5 8 9 16 9h92l-91 12c-6 2-11 6-13 12l-98 13c-3 0-6 3-6 7 0 2 3 5 6 5h1l99-13c2 5 8 8 13 8h2l113-15-110 28c-5 1-9 7-10 12l-98 26c-2 1-4 4-4 7s3 4 6 4h1l97-27c3 4 7 7 12 7h4l130-36-125 52c-5 2-8 8-8 13l-93 39c-1 2-3 3-3 5s3 3 4 3h2l93-39 9 5 5-1 145-61-135 79c-4 3-7 8-6 12l-89 51c-1 1-3 4-1 5l4 2h1l89-52 8 3 5-1 156-90-142 108c-4 3-6 7-4 11l-83 63c-2 1-2 2 0 4l2 1 2-1 83-63 5 1 6-3 152-115c-24-27-39-62-39-100a151 151 0 11293 50h465c27 0 50-23 50-50 2-17-7-33-21-41z"/>
    <path d="M627 778l25 188c0 1 1 3 3 3l2-3-25-188h-5zM647 774l48 184c0 2 2 2 2 2l1-3-49-184-2 1zM610 780h-3v190l3 3 3-3V780h-3z"/>
  </g>
  
  <g class="logo__title">
    <path d="M1496 406c-89 0-141-66-141-140s53-141 141-141c89 0 141 66 141 141 0 76-52 140-141 140zm0-223c-41 0-71 25-71 84 0 39 17 84 71 84 51 0 71-43 71-84 0-42-20-84-71-84z"/>
    <path d="M1822 222c-9-25-32-39-55-39-37 0-66 25-66 84 0 39 16 84 68 84 19 0 44-13 54-37l53 25c-23 41-62 68-107 68-84 0-134-65-134-140s46-141 129-141c53 0 87 25 112 70l-54 26zM1885 400V134h196v51h-129v49h121v51h-121v63h141v52h-208z"/>
    <path d="M2182 134h68l100 266h-71l-13-42h-97l-13 42h-71l97-266zm68 175l-32-109h-2l-33 109h67z"/>
    <path d="M2342 134h67l96 170h2V134h60v266h-65l-98-167h-1v167h-61V134zM1366 419h65v96h99v-96h66v265h-66V572h-97v112h-66V419zM1625 684V419h196v52h-129v48h121v51h-121v64h140v50h-207z"/>
    <path d="M1922 419h68l100 266h-71l-13-42h-99l-13 42h-71l99-266zm68 174l-33-109h-1l-33 109h67z"/>
    <path d="M2082 419h66v209h104v56h-170V419zM2210 419h205v52h-70v213h-66V471h-69v-52zM2424 419h66v96h98v-96h66v265h-66V572h-98v112h-66V419zM1366 703h65v266h-65V703zM1462 703h67l96 170h1V703h61v266h-68l-97-167h-1v167h-61V703zM1713 703h102c82 0 136 38 136 133s-54 133-136 133h-102V703zm67 211h38c50 0 67-35 67-77 0-43-18-76-68-76h-38v153zM1964 969V703h196v52h-129v48h121v51h-121v64h141v51h-208z"/>
    <path d="M2262 826l-88-123h80l49 80 49-80h79l-87 123 101 143h-82l-61-99-63 99h-81l104-143z"/>
    <path d="M2431 703h23v7h-8v25h-8v-25h-7v-7zM2458 703h12l5 23 5-23h11v30h-7v-23l-6 23h-7l-6-23v23h-7v-30z"/>
  </g>
  
</svg></a>
    <div class="footer__socials">
  <div class="socials">
    
      <a class="socials__link socials__link--facebook" href="https://www.facebook.com/OceanHealthIndex/" target="_blank">
        <svg class="socials__icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M449 0c35 0 63 28 63 63v386c0 35-28 63-63 63H343V319h67l12-83h-79v-53c0-23 11-45 47-45h36V68s-33-6-64-6c-66 0-108 40-108 111v63h-73v83h73v193H63c-35 0-63-28-63-63V63C0 28 28 0 63 0h386z"/></svg>
      </a>
    
    
      <a class="socials__link socials__link--twitter" href="https://twitter.com/OceanHealthIndx" target="_blank">
        <svg class="socials__icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M161 464c193 0 299-160 299-299v-13c20-15 38-34 52-55-19 9-40 14-60 17 22-13 38-34 46-58-21 12-43 20-67 25a105 105 0 00-179 96c-84-4-163-44-216-110-28 48-14 110 32 140-17 0-33-5-48-13v2c0 49 36 93 85 103-16 4-32 4-48 1 14 43 54 72 98 73A211 211 0 010 417c48 31 104 47 161 47"/></svg>
      </a>
    
  </div>
</div>
  </div>
  <div class="footer__legal">
    <div class="footer__content footer__content--bottom">
      <div class="footer__copyright">
        ©<script>document.write(new Date().getFullYear());</script> Ocean Health Index
      </div>
      <div class="footer__legal-links">
        <a class="footer__legal-link" href="/privacy-policy">Privacy Policy</a>
        <a class="footer__legal-link" href="/terms-of-service">Terms of Service</a>
      </div>
    </div>
  </div>
</footer><script src="/js/main.js" async></script></body>

</html>