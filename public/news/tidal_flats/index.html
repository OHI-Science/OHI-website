<!DOCTYPE html>
<html lang="en-US"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="http://localhost:1313/news/tidal_flats/">
  <meta name="description" content="Adding tidal flat ecosystems to OHI by Cullen Molitor
Thu, Sep 01, 2022
The Ocean Health Index has decided to update the habitat subgoal of biodiversity by adding tidal flat ecosystems to complement the existing habitat types (seagrass, kelp, coral reefs, mangroves, salt marsh, sea ice edge, and soft bottom). Tidal flat habitat is defined as sand, rock, or mud flats that undergo regular tidal inundation. This vital habitat is distributed globally, but up until this recently there was very limited data on the extent of these ecosystems, especially at the global scale."/>
  <meta name="date" content='October 25, 2024 14:31:50 EDT'>
  <title>Introducing Tidal Flat Habitat | OHI</title>
  <link rel="stylesheet" href="http://localhost:1313/style.main.min.be81eaa14848f2d569f520523ff3c1874cf717146950af8fcf7b5cac347f8ec1.css?v=2024-10-25_14.31.50_-0400" media="screen">
  <link rel="shortcut icon" href="http://localhost:1313/images/favicon.png" type="image/x-icon">
  <link rel="icon" href="http://localhost:1313/images/favicon.png" type="image/x-icon">
  
<link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-100.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-100.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-100italic.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-100italic.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-200.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-200.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-200italic.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-200italic.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-300.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-300.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-300italic.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-300italic.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-500.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-500.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-600.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-600.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-700.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-700.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-800.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-800.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-900.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-900.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-italic.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-italic.woff2" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff" href="http://localhost:1313/fonts/montserrat-v15-latin-regular.woff" crossorigin="anonymous"><link rel="preload" as="font" type="font/woff2" href="http://localhost:1313/fonts/montserrat-v15-latin-regular.woff2" crossorigin="anonymous"></head><body>

<nav class="nav" role="navigation" aria-label="Main menu">

  <button
    id="menu-button"
    class="menu-button"
    aria-expanded="false"
    aria-controls="main-menu"
    aria-label="Show main menu"
    aria-haspopup="true"
  >
    <span class="menu-button__icon">
      <span class="menu-button__line"></span>
      <span class="menu-button__line"></span>
      <span class="menu-button__line"></span>
    </span>

  </button>

  <a
    class="nav__logo"
    href="http://localhost:1313/"
    role="menuitem"
    title="Ocean Health Index Homepage"
  >






  
  


<svg class="logo" viewBox="0 0 2657 1024" xmlns="http://www.w3.org/2000/svg" title="Ocean Health Index">
  <g class="logo__image">
    <path d="M586 777l-25 188 3 4 3-3 25-188-6-1zM567 773l-49 184c0 3 0 4 3 4h1l4-3 48-184-7-1zM548 766l-72 175c-1 3 0 5 2 5h2l4-2 72-175-8-3zM368 878c3 0 4-1 7-3l134-134-12-11-134 134c-3 2-3 6-2 9l-74 75c-2 1-2 2 0 4l2 1 3-1 75-75c-2 0 0 1 1 1zM402 906c3 0 4-2 5-3l116-151-12-9-115 151c-2 2-2 5 0 8l-66 85v4h1l3-1 66-86 2 2zM528 756l-94 164c-2 1-2 4 0 7l-54 94c-1 2 0 3 1 4h2l2-1 54-95c3 0 4-1 5-2l95-166-11-5zM687 758l-2 2 95 164 1 1h1v-2l-95-165zM669 768l-4 1 72 175 2 1h1l1-2-72-175z"/>
    <path d="M1244 585c11-11 18-26 15-42-2-19-14-33-31-40 12-10 17-27 12-44-6-19-21-32-39-33 12-12 16-30 10-46-8-19-28-29-46-26 13-14 15-33 6-49a39 39 0 00-55-14l-8 3 7-5c17-13 19-37 6-52a37 37 0 00-52-7l-38 29 34-36c14-14 14-36 0-49a34 34 0 00-50 0l-61 60 53-68c10-15 8-36-7-46s-35-8-46 6l-76 99 62-108c8-14 4-33-11-42-14-8-33-4-42 10l-64 112-3 1-1-3 49-117c6-15-2-31-15-37-14-6-30 1-37 14l-50 120-6 4c0-3-2-5-3-7l33-125c4-13-4-27-18-31s-28 4-32 18l-33 125-9 8-5-11 17-127c1-12-7-24-20-25-12-1-24 7-25 20l-17 127c-5 4-8 8-10 15-2-6-6-11-10-15V20a19 19 0 10-39 0v129c-7 5-11 13-11 22v1c-1-9-6-16-13-21L548 22c-1-9-10-17-20-15s-17 10-15 19l17 129c-6 7-9 15-8 24l5 35-9-34c-3-9-9-16-17-18L467 35c-3-7-11-13-19-10s-13 10-10 18l34 127c-5 6-8 15-5 23l17 62-25-58c-4-8-11-13-20-14L389 62c-3-7-10-9-17-7s-9 11-7 17l50 121c-5 7-6 16-2 24l35 87-47-82c-4-8-13-12-21-12L314 96c-2-5-9-7-14-4s-7 9-4 14l65 115c-5 6-5 16-1 24l49 84v2l-3-1-59-76c-5-7-14-10-22-8l-81-105c-2-4-7-4-10-2-4 3-4 8-1 11l80 105c-4 7-4 17 1 24l59 77v5l-5-1-68-68c-6-5-15-7-21-4l-95-95c-3-2-7-2-9 0s-3 7 0 9l94 95c-3 7-2 16 4 21l69 68 2 10c-2-2-6-2-9 0l-76-59c-7-6-15-4-20 0l-108-83c-2-2-5-2-6 1s-1 5 1 7l108 82c-3 7 0 15 5 20l76 59c0 4 3 9 6 12h-13l-85-49c-5-3-13-2-17 2L87 319c-3-1-6 0-7 2s0 5 1 6l120 69c-1 6 1 13 8 15l84 49c1 7 5 12 11 15l4 2h-6c-6-2-13-1-18 1l-89-36c-6-3-12 0-16 4L50 392c-1-2-4 0-5 2s0 4 2 6l129 54c0 5 3 11 8 13l89 36c2 7 7 12 12 15l25 10-26-6c-7-1-13 0-18 4l-95-25c-5-1-11 1-13 5L24 467c-2 0-4 0-4 2s0 4 2 4l137 37c0 5 4 9 8 11l95 25c2 6 6 10 13 13l47 13-49-7c-6-1-13 2-17 7l-97-13c-4 0-8 1-9 5L8 546l-4 2 3 4 142 19c1 3 3 6 7 7l98 14c2 5 8 10 14 10l70 9h-70c-6 0-12 4-16 9h-98c-3 0-7 3-7 6H3c-2 0-3 1-3 2l3 3h144c2 3 4 5 7 5h98c3 5 8 9 16 9h92l-91 12c-6 2-11 6-13 12l-98 13c-3 0-6 3-6 7 0 2 3 5 6 5h1l99-13c2 5 8 8 13 8h2l113-15-110 28c-5 1-9 7-10 12l-98 26c-2 1-4 4-4 7s3 4 6 4h1l97-27c3 4 7 7 12 7h4l130-36-125 52c-5 2-8 8-8 13l-93 39c-1 2-3 3-3 5s3 3 4 3h2l93-39 9 5 5-1 145-61-135 79c-4 3-7 8-6 12l-89 51c-1 1-3 4-1 5l4 2h1l89-52 8 3 5-1 156-90-142 108c-4 3-6 7-4 11l-83 63c-2 1-2 2 0 4l2 1 2-1 83-63 5 1 6-3 152-115c-24-27-39-62-39-100a151 151 0 11293 50h465c27 0 50-23 50-50 2-17-7-33-21-41z"/>
    <path d="M627 778l25 188c0 1 1 3 3 3l2-3-25-188h-5zM647 774l48 184c0 2 2 2 2 2l1-3-49-184-2 1zM610 780h-3v190l3 3 3-3V780h-3z"/>
  </g>
  
  <g class="logo__title">
    <path d="M1496 406c-89 0-141-66-141-140s53-141 141-141c89 0 141 66 141 141 0 76-52 140-141 140zm0-223c-41 0-71 25-71 84 0 39 17 84 71 84 51 0 71-43 71-84 0-42-20-84-71-84z"/>
    <path d="M1822 222c-9-25-32-39-55-39-37 0-66 25-66 84 0 39 16 84 68 84 19 0 44-13 54-37l53 25c-23 41-62 68-107 68-84 0-134-65-134-140s46-141 129-141c53 0 87 25 112 70l-54 26zM1885 400V134h196v51h-129v49h121v51h-121v63h141v52h-208z"/>
    <path d="M2182 134h68l100 266h-71l-13-42h-97l-13 42h-71l97-266zm68 175l-32-109h-2l-33 109h67z"/>
    <path d="M2342 134h67l96 170h2V134h60v266h-65l-98-167h-1v167h-61V134zM1366 419h65v96h99v-96h66v265h-66V572h-97v112h-66V419zM1625 684V419h196v52h-129v48h121v51h-121v64h140v50h-207z"/>
    <path d="M1922 419h68l100 266h-71l-13-42h-99l-13 42h-71l99-266zm68 174l-33-109h-1l-33 109h67z"/>
    <path d="M2082 419h66v209h104v56h-170V419zM2210 419h205v52h-70v213h-66V471h-69v-52zM2424 419h66v96h98v-96h66v265h-66V572h-98v112h-66V419zM1366 703h65v266h-65V703zM1462 703h67l96 170h1V703h61v266h-68l-97-167h-1v167h-61V703zM1713 703h102c82 0 136 38 136 133s-54 133-136 133h-102V703zm67 211h38c50 0 67-35 67-77 0-43-18-76-68-76h-38v153zM1964 969V703h196v52h-129v48h121v51h-121v64h141v51h-208z"/>
    <path d="M2262 826l-88-123h80l49 80 49-80h79l-87 123 101 143h-82l-61-99-63 99h-81l104-143z"/>
    <path d="M2431 703h23v7h-8v25h-8v-25h-7v-7zM2458 703h12l5 23 5-23h11v30h-7v-23l-6 23h-7l-6-23v23h-7v-30z"/>
  </g>
  
</svg></a>

  <ul id="main-menu" class="nav__menu" role="menubar" aria-labelledby="menu-button">

    

      
      
  
      <li class="nav__item nav__item--toplevel" role="none">
          <a
            class="nav__link nav__link--toplevel"
            role="menuitem"
            aria-controls="global-scores"
            aria-label="Global Scores submenu toggle"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            Global Scores
          </a>
          <ul class="nav__submenu" id="global-scores" role="menu" aria-label="Global Scores">
           
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/global-scores/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Scores by country
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/global-scores/goal-scores/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Scores by goal
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/global-scores/data-download/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Data Download
                </a>
              </li>
            

          </ul>
        </li>

      

    

      
      
  
      <li class="nav__item nav__item--toplevel" role="none">
          <a
            class="nav__link nav__link--toplevel"
            role="menuitem"
            aria-controls="methodology"
            aria-label="Methodology submenu toggle"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            Methodology
          </a>
          <ul class="nav__submenu" id="methodology" role="menu" aria-label="Methodology">
           
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/methodology/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Methods Overview
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/goals/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Goals
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/methodology/pressure/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Pressure Description
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/methodology/resilience/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Resilience Description
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/methodology/deep-dive/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Deep Dive
                </a>
              </li>
            

          </ul>
        </li>

      

    

      
      
  
      <li class="nav__item nav__item--toplevel" role="none">
          <a
            class="nav__link nav__link--toplevel"
            role="menuitem"
            aria-controls="ohib-stylecolor#f26c25&#43;/b"
            aria-label="OHI&lt;b style=&#34;color:#f26c25&#34;&gt;&#43;&lt;/b&gt; submenu toggle"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            OHI<b style="color:#f26c25">+</b>
          </a>
          <ul class="nav__submenu" id="ohib-stylecolor#f26c25&#43;/b" role="menu" aria-label="OHI&lt;b style=&#34;color:#f26c25&#34;&gt;&#43;&lt;/b&gt;">
           
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/ohi&#43;/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  What is OHI&#43;
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/ohi&#43;/assessment/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Regional Assessments
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/ohi&#43;/conduct/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Conduct an OHI&#43;
                </a>
              </li>
            

          </ul>
        </li>

      

    

      
      
  
      <li class="nav__item nav__item--toplevel" role="none">
          <a
            class="nav__link nav__link--toplevel"
            role="menuitem"
            aria-controls="resources"
            aria-label="Resources submenu toggle"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            Resources
          </a>
          <ul class="nav__submenu" id="resources" role="menu" aria-label="Resources">
           
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/resources/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Overview
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/resources/tools/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Tools
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/resources/data/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Data
                </a>
              </li>
            

          </ul>
        </li>

      

    

      
      
        
      
  
      <li class="nav__item nav__item--toplevel nav__item--current" role="none">
          <a
            class="nav__link nav__link--toplevel"
            role="menuitem"
            aria-controls="about"
            aria-label="About submenu toggle"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            About
          </a>
          <ul class="nav__submenu" id="about" role="menu" aria-label="About">
           
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  What is OHI
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/news/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  News
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/ohifellows/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  OHI Fellows
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/people/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  People
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/publications/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Publications
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/supporters/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Supporters
                </a>
              </li>
            
              <li class="nav__item nav__item--submenu" role="none">
                <a
                  href="http://localhost:1313/about/contact/"
                  class="nav__link nav__link--submenu"
                  role="menuitem"
                  tabindex="-1"
                >
                  Contact
                </a>
              </li>
            

          </ul>
        </li>

      

    
  </ul>
</nav>





  

  

  

  
    
  













<header class="page-header" style="background-image: url('/images/banners/tidal_zone.jpg');" >
  <div class="header-gradient"></div>
  <h1 class="page-header__title">Introducing Tidal Flat Habitat</h1>
  
  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
    
  

  
    
  
    
      
        
          
            <p class="photo-credit">PHOTO(S): © Kenan Chan/National Park Service</p>
          
        
          
        
      
    
  

</header><div  class="breadcrumb">
  
  
    
  
    
  
  
  <a class = "breadcrumb-item" href="http://localhost:1313/">&nbspHome</a> >
  

  
  
  <a class = "breadcrumb-item" href="http://localhost:1313/news/">&nbspNews</a> >
  

  
  
  <a class = "breadcrumb-item current" href="http://localhost:1313/news/tidal_flats/">&nbspIntroducing Tidal Flat Habitat</a>
  

</div>


<section class="section"><div class="column-left">
  <h2 class = "column-left__title">
    Overview
  </h2>
  <div class="column-left__logo">


  






<svg class="logo logo--subtle" viewBox="0 0 1266 1024" xmlns="http://www.w3.org/2000/svg" >
  <g class="logo__image">
    <path d="M586 777l-25 188 3 4 3-3 25-188-6-1zM567 773l-49 184c0 3 0 4 3 4h1l4-3 48-184-7-1zM548 766l-72 175c-1 3 0 5 2 5h2l4-2 72-175-8-3zM368 878c3 0 4-1 7-3l134-134-12-11-134 134c-3 2-3 6-2 9l-74 75c-2 1-2 2 0 4l2 1 3-1 75-75c-2 0 0 1 1 1zM402 906c3 0 4-2 5-3l116-151-12-9-115 151c-2 2-2 5 0 8l-66 85v4h1l3-1 66-86 2 2zM528 756l-94 164c-2 1-2 4 0 7l-54 94c-1 2 0 3 1 4h2l2-1 54-95c3 0 4-1 5-2l95-166-11-5zM687 758l-2 2 95 164 1 1h1v-2l-95-165zM669 768l-4 1 72 175 2 1h1l1-2-72-175z"/>
    <path d="M1244 585c11-11 18-26 15-42-2-19-14-33-31-40 12-10 17-27 12-44-6-19-21-32-39-33 12-12 16-30 10-46-8-19-28-29-46-26 13-14 15-33 6-49a39 39 0 00-55-14l-8 3 7-5c17-13 19-37 6-52a37 37 0 00-52-7l-38 29 34-36c14-14 14-36 0-49a34 34 0 00-50 0l-61 60 53-68c10-15 8-36-7-46s-35-8-46 6l-76 99 62-108c8-14 4-33-11-42-14-8-33-4-42 10l-64 112-3 1-1-3 49-117c6-15-2-31-15-37-14-6-30 1-37 14l-50 120-6 4c0-3-2-5-3-7l33-125c4-13-4-27-18-31s-28 4-32 18l-33 125-9 8-5-11 17-127c1-12-7-24-20-25-12-1-24 7-25 20l-17 127c-5 4-8 8-10 15-2-6-6-11-10-15V20a19 19 0 10-39 0v129c-7 5-11 13-11 22v1c-1-9-6-16-13-21L548 22c-1-9-10-17-20-15s-17 10-15 19l17 129c-6 7-9 15-8 24l5 35-9-34c-3-9-9-16-17-18L467 35c-3-7-11-13-19-10s-13 10-10 18l34 127c-5 6-8 15-5 23l17 62-25-58c-4-8-11-13-20-14L389 62c-3-7-10-9-17-7s-9 11-7 17l50 121c-5 7-6 16-2 24l35 87-47-82c-4-8-13-12-21-12L314 96c-2-5-9-7-14-4s-7 9-4 14l65 115c-5 6-5 16-1 24l49 84v2l-3-1-59-76c-5-7-14-10-22-8l-81-105c-2-4-7-4-10-2-4 3-4 8-1 11l80 105c-4 7-4 17 1 24l59 77v5l-5-1-68-68c-6-5-15-7-21-4l-95-95c-3-2-7-2-9 0s-3 7 0 9l94 95c-3 7-2 16 4 21l69 68 2 10c-2-2-6-2-9 0l-76-59c-7-6-15-4-20 0l-108-83c-2-2-5-2-6 1s-1 5 1 7l108 82c-3 7 0 15 5 20l76 59c0 4 3 9 6 12h-13l-85-49c-5-3-13-2-17 2L87 319c-3-1-6 0-7 2s0 5 1 6l120 69c-1 6 1 13 8 15l84 49c1 7 5 12 11 15l4 2h-6c-6-2-13-1-18 1l-89-36c-6-3-12 0-16 4L50 392c-1-2-4 0-5 2s0 4 2 6l129 54c0 5 3 11 8 13l89 36c2 7 7 12 12 15l25 10-26-6c-7-1-13 0-18 4l-95-25c-5-1-11 1-13 5L24 467c-2 0-4 0-4 2s0 4 2 4l137 37c0 5 4 9 8 11l95 25c2 6 6 10 13 13l47 13-49-7c-6-1-13 2-17 7l-97-13c-4 0-8 1-9 5L8 546l-4 2 3 4 142 19c1 3 3 6 7 7l98 14c2 5 8 10 14 10l70 9h-70c-6 0-12 4-16 9h-98c-3 0-7 3-7 6H3c-2 0-3 1-3 2l3 3h144c2 3 4 5 7 5h98c3 5 8 9 16 9h92l-91 12c-6 2-11 6-13 12l-98 13c-3 0-6 3-6 7 0 2 3 5 6 5h1l99-13c2 5 8 8 13 8h2l113-15-110 28c-5 1-9 7-10 12l-98 26c-2 1-4 4-4 7s3 4 6 4h1l97-27c3 4 7 7 12 7h4l130-36-125 52c-5 2-8 8-8 13l-93 39c-1 2-3 3-3 5s3 3 4 3h2l93-39 9 5 5-1 145-61-135 79c-4 3-7 8-6 12l-89 51c-1 1-3 4-1 5l4 2h1l89-52 8 3 5-1 156-90-142 108c-4 3-6 7-4 11l-83 63c-2 1-2 2 0 4l2 1 2-1 83-63 5 1 6-3 152-115c-24-27-39-62-39-100a151 151 0 11293 50h465c27 0 50-23 50-50 2-17-7-33-21-41z"/>
    <path d="M627 778l25 188c0 1 1 3 3 3l2-3-25-188h-5zM647 774l48 184c0 2 2 2 2 2l1-3-49-184-2 1zM610 780h-3v190l3 3 3-3V780h-3z"/>
  </g>
  
</svg></div>
</div><div class="column-center">
  <h1 id="adding-tidal-flat-ecosystems-to-ohi">Adding tidal flat ecosystems to OHI</h1>
<p class="news-author">by Cullen Molitor</p>
<p class="news-date">Thu, Sep 01, 2022</p>
<p>The Ocean Health Index has decided to update the <a href="https://oceanhealthindex.org/goals/biodiversity/habitats/">habitat</a> subgoal of <a href="https://oceanhealthindex.org/goals/biodiversity/">biodiversity</a> by adding tidal flat ecosystems to complement the existing habitat types (seagrass, kelp, coral reefs, mangroves, salt marsh, sea ice edge, and soft bottom). Tidal flat habitat is defined as sand, rock, or mud flats that undergo regular tidal inundation. This vital habitat is distributed globally, but up until this recently there was very limited data on the extent of these ecosystems, especially at the global scale.</p>
<p>The data come from a paper, <a href="https://www.nature.com/articles/s41586-018-0805-8">The global distribution and trajectory of tidal flats</a> (Murray et al. 2019), which used satellite imagery and machine learning methods to classify tidal flat habitat from over 700,000 satellite images between 1984 and 2016.</p>
<p>This new dataset has given OHI the opportunity to further improve our methods and in turn, the ability to understand the health of the world&rsquo;s oceans. For example, the paper found that:</p>
<blockquote>
<p>&ldquo;Extensive degradation from coastal development, reduced sediment delivery from major rivers, sinking of riverine deltas, increased coastal erosion, and sea-level rise signal a continuing negative trajectory for tidal flat ecosystems around the world.&rdquo;</p>
</blockquote>
<p><img src="/images/terra_post/jitze_couperus_cargill_flats_flickr.jpg" alt=""></p>
<p>     <em>The interface of coastal development with tidal flat habitat off Redwood City, California (Photo: <a href="https://www.flickr.com/photos/jitze1942/5244615529/in/photolist-8Zs2tF-2mcBSEz-2mbaQWz-2eGrCBb-2mcR9AJ-riuRXd-2m9pjVX-dfpp5f-2ni8fyW-2maeZuS-237cW2k-2mbDn5Z-2mbfbXK-ZRJNMp-2mbvHuj-2mbaigy-2m9okJm-2m9KhCq-2ma4UN8-2maC7zZ-2m9H5Uu-2mb6sxZ-5A7XK2-SCXCLN-mEucZb-2mcJVgv-SCXCuA-5Q9qm-5qWU36-SCXCHG-r4fDrf-2maKF6K-2mbKNm7-2maWHYx-SCXC9f-of2jqp-PagPZo-24aBQVg-aMC5Jz-oJMgpT-9gsEyT-VRTZsv-P5Aez8-xsSKEo-3Yz3Si-YT1xo3-24Z2DH7-xbXZ3Q-qDc4vo-2kSmqmB">Jitze Couperus</a>)</em>.</p>
<p>Tidal flats will affect the OHI global scores by adding additional layers to the habitat subgoal and carbon storage goal. The three new data layers created are tidal flat extent (measured in km<sup>2</sup>), tidal flat trend (proportional change), and tidal flat condition (current status compared to historic status).</p>
<p>This post will give a brief explanation of tidal flat habitat, explore the new dataset, and demonstrate how to programmatically summarize the data in the R software environment. The goal of data summarization is to distill the large raster dataset into simple tabular data which can be integrated into the OHI annual analysis as new data layers for 2022 and beyond.</p>
<h3 id="data-exploration">Data exploration</h3>
<p>The published data product includes 11 sets (1 for each time step) of global tidal flat extent maps at 30 meter Ground Sample Distance (GSD; AKA resolution). This means that each pixel in each raster represents 30 m<sup>2</sup>, and contains either 0 for &ldquo;not tidal flat&rdquo;, or 1 for &ldquo;tidal flat.&rdquo; This is a massive amount of data, but thankfully, each of the 11 time steps were broken into 108 files with discrete spatial extents, making individual files easy to work with.</p>
<p>So where to begin? Well first, we needed to access the data. The authors provide several options for <a href="https://www.intertidal.app/download">data access</a> including through <a href="https://developers.google.com/earth-engine/datasets/tags/tidal-flats">Google Earth Engine</a>, <a href="https://data.unep-wcmc.org/datasets/47">UNEP-WCMC Ocean Data Viewer</a>, and finally through <a href="https://www.intertidal.app/download/direct-download">direct download</a>. We chose the direct download option and wrote a simple shell script that is executed in an R Markdown code chunk.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#e6db74">```</span><span style="color:#f92672">{</span>bash<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Make the new directory and move into it</span>
</span></span><span style="display:flex;"><span>mkdir /&lt;path&gt;/&lt;to&gt;/&lt;directory&gt;/&lt;of&gt;/&lt;choice&gt;/tidal_flats <span style="color:#f92672">&amp;&amp;</span> cd $_
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Declare an array of strings, one for each time step</span>
</span></span><span style="display:flex;"><span>declare -a StringArray<span style="color:#f92672">=(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;1984-1986&#34;</span> <span style="color:#e6db74">&#34;1987-1989&#34;</span> <span style="color:#e6db74">&#34;1990-1992&#34;</span> <span style="color:#e6db74">&#34;1993-1995&#34;</span> <span style="color:#e6db74">&#34;1996-1998&#34;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;1999-2001&#34;</span> <span style="color:#e6db74">&#34;2002-2004&#34;</span> <span style="color:#e6db74">&#34;2005-2007&#34;</span> <span style="color:#e6db74">&#34;2008-2010&#34;</span> <span style="color:#e6db74">&#34;2011-2013&#34;</span> <span style="color:#e6db74">&#34;2014-2016&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Iterate through the array using for loop</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> val in <span style="color:#e6db74">${</span>StringArray[@]<span style="color:#e6db74">}</span>; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  echo $val
</span></span><span style="display:flex;"><span>  wget https://storage.googleapis.com/uq-intertidal/v1_1/global_intertidal/$val.zip
</span></span><span style="display:flex;"><span>  unzip $val.zip -d ./$val
</span></span><span style="display:flex;"><span>  rm $val.zip
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">```</span>
</span></span></code></pre></div><p>With the data in hand, we first do some basic exploration and ensure it is what we expect, and that it makes sense. The <code>terra</code> package has some handy functions for doing this. After reading the first file of the first time step with <code>terra::rast()</code>, I used <code>terra::freq()</code> to check how many unique values there were, expecting only 0 or 1 based on the metadata.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>image <span style="color:#f92672">&lt;-</span> here<span style="color:#f92672">::</span><span style="color:#a6e22e">here</span>(<span style="color:#e6db74">&#34;tidal_flats&#34;</span>, <span style="color:#e6db74">&#34;1984-1986&#34;</span>, <span style="color:#e6db74">&#34;-100_-20.tif&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  terra<span style="color:#f92672">::</span><span style="color:#a6e22e">rast</span>() 
</span></span><span style="display:flex;"><span>image <span style="color:#75715e"># print the raster metadata</span>
</span></span></code></pre></div><details>
<summary>
Output (raster metadata)
</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>class       : SpatRaster 
</span></span><span style="display:flex;"><span>dimensions  : 74213, 74213, 1  (nrow, ncol, nlyr)
</span></span><span style="display:flex;"><span>resolution  : 0.0002694946, 0.0002694946  (x, y)
</span></span><span style="display:flex;"><span>extent      : -160, -140, -20, 0  (xmin, xmax, ymin, ymax)
</span></span><span style="display:flex;"><span>coord. ref. : lon/lat WGS 84 (EPSG:4326) 
</span></span><span style="display:flex;"><span>source      : -160_0.tif 
</span></span><span style="display:flex;"><span>name        : classification
</span></span></code></pre></div></details>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>terra<span style="color:#f92672">::</span><span style="color:#a6e22e">freq</span>(image)
</span></span></code></pre></div><details>
<summary>
Output (frequency table)
</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>     layer value      count
</span></span><span style="display:flex;"><span>[1,]     1     0 5507569369
</span></span></code></pre></div></details>
<p>Dang! All 0&rsquo;s. This is most likely due to the spatial tile not intersecting any intertidal region. There will be many tiles over nothing but ocean or land. While not a satisfying result for our first data exploration, it is important to anticipate what you are looking for and what you might find. Lets take a look at this files spatial extent in relation to the global coastline to make sure that our results match what we now expect of it.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(rnaturalearth)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(rnaturalearthdata)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(tidyterra)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>world <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ne_countries</span>(scale <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;medium&#34;</span>, returnclass <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;sf&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>extent <span style="color:#f92672">&lt;-</span> terra<span style="color:#f92672">::</span><span style="color:#a6e22e">ext</span>(image)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>extent_polygon <span style="color:#f92672">&lt;-</span> terra<span style="color:#f92672">::</span><span style="color:#a6e22e">as.polygons</span>(extent)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>terra<span style="color:#f92672">::</span><span style="color:#a6e22e">crs</span>(extent_polygon) <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;epsg:4326&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggplot</span>(data <span style="color:#f92672">=</span> world) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_sf</span>() <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  tidyterra<span style="color:#f92672">::</span><span style="color:#a6e22e">geom_spatvector</span>(data <span style="color:#f92672">=</span> extent_polygon, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Red&#34;</span>, fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>)
</span></span></code></pre></div><center>
<img src="/images/terra_post/plot_1.png"/>
</center>
<p>Looks like our intuition matches the result! This plot shows the extent only covers open ocean.</p>
<p>Now lets examine another raster to see what kind of unique value we get.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>image <span style="color:#f92672">&lt;-</span> here<span style="color:#f92672">::</span><span style="color:#a6e22e">here</span>(<span style="color:#e6db74">&#34;tidal_flats&#34;</span>, <span style="color:#e6db74">&#34;1984-1986&#34;</span>, <span style="color:#e6db74">&#34;0_-20.tif&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  terra<span style="color:#f92672">::</span><span style="color:#a6e22e">rast</span>() <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  terra<span style="color:#f92672">::</span><span style="color:#a6e22e">freq</span>()
</span></span></code></pre></div><details>
<summary>
Output (frequency table)
</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>     layer value      count
</span></span><span style="display:flex;"><span>[1,]     1     0 5506916280
</span></span><span style="display:flex;"><span>[2,]     1     1     653089
</span></span></code></pre></div></details>
<p>That is better! Now lets see where this file lands on the globe.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>extent_polygon <span style="color:#f92672">&lt;-</span> terra<span style="color:#f92672">::</span><span style="color:#a6e22e">ext</span>(image) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  terra<span style="color:#f92672">::</span><span style="color:#a6e22e">as.polygons</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>terra<span style="color:#f92672">::</span><span style="color:#a6e22e">crs</span>(extent_polygon) <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;epsg:4326&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggplot</span>(data <span style="color:#f92672">=</span> world) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_sf</span>() <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  tidyterra<span style="color:#f92672">::</span><span style="color:#a6e22e">geom_spatvector</span>(data <span style="color:#f92672">=</span> extent_polygon, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Red&#34;</span>, fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>)
</span></span></code></pre></div><center>
<img src="/images/terra_post/plot_2.png"/>
</center>
<p>Now we can see that this tile falls along a section of coastline, and has both 0 and 1 values. Things look good so far.</p>
<h3 id="transforming-the-data">Transforming the data</h3>
<p>Now that we know our files contain what we expect, and have seen a few outputs, it is time to design a workflow that will allow us to extract the information we want from the files. For OHI, our goal is to summarize the extent of habitat in each region, for each time step. Our ideal final product will have an extent measured in km<sup>2</sup>, the region ID, the year, and the habitat type.</p>
<p>Even though each time step is broken into 108 files, the resolution still makes this data hard to work with. The <code>terra</code> package offers a solution to reduce resolution, often referred to as down-sampling. The function <code>terra::aggregate()</code> allows a user to specify how many pixels should be connected into one and what function to use on the pixels being aggregated. In our case we want to sum the pixels to retain all of the habitat information. We want to choose a resolution that will allow us to continue using the rasters for analysis without bogging down our computer. We chose to down-sample to ~1 km<sup>2</sup> resolution by choosing 30 pixels as our aggregation factor. Our function then looks like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>down_sampled_image <span style="color:#f92672">&lt;-</span> terra<span style="color:#f92672">::</span><span style="color:#a6e22e">aggregate</span>(
</span></span><span style="display:flex;"><span>  x <span style="color:#f92672">=</span> image, 
</span></span><span style="display:flex;"><span>  fact <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>, 
</span></span><span style="display:flex;"><span>  fun <span style="color:#f92672">=</span> sum, 
</span></span><span style="display:flex;"><span>  na.rm <span style="color:#f92672">=</span> T
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>The true resolution in km<sup>2</sup> can be found with a bit of simple math, 30 meters by 30 pixels is 900 meters so our new pixel has dimensions 900 x 900 meters. We then divide these new dimensions by by a pixel with an area of 1 km<sup>2</sup>: (900 * 900)/(1,000 * 1,000) = 0.81 km<sup>2</sup>. Using 33 pixels would have brought us closer to 1 km<sup>2</sup>, but this brings the image to a reasonable size, and in general we would like to keep the resolution as high as possible.</p>
<p>Our next goal is to convert pixel counts into area. If the native raster cells are 30 x 30 meters, then a raster cell with a value of 1 would be equivalent to 0.0009 km<sup>2</sup> habitat area. This can be found by multiplying the pixel dimensions together and dividing by a pixel with an area of 1 km<sup>2</sup>: (30 * 30) / (1,000 * 1,000) = 0.0009 km<sup>2</sup>. The simplest way to convert to area in this scenario is to simply multiply our down-sampled raster by 0.0009.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>down_sampled_image <span style="color:#f92672">&lt;-</span> down_sampled_image <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.0009</span>
</span></span></code></pre></div><p>This works because each pixel started out as a 0 or a 1, so the aggregated raster has values in multiples of 1. We can check this by again using <code>terra::freq()</code> to see that our new raster has values in multiples of 0.0009. We use the <code>digits</code> argument to make sure values are not rounded to 0 in the output table.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>terra<span style="color:#f92672">::</span><span style="color:#a6e22e">freq</span>(
</span></span><span style="display:flex;"><span>  down_sampled_image, 
</span></span><span style="display:flex;"><span>  digits <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>) 
</span></span></code></pre></div><details>
<summary>
Output (frequency table)
</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>     layer  value   count
</span></span><span style="display:flex;"><span>[1,]     1 0.0000 6117245
</span></span><span style="display:flex;"><span>[2,]     1 0.0009      61
</span></span><span style="display:flex;"><span>[3,]     1 0.0018      59
</span></span><span style="display:flex;"><span>(cropped for brevity)
</span></span></code></pre></div></details>
<p>Results look good! Just as expected, we now have raster cells at ~1 km<sup>2</sup> resolution, with cell values representing the area in km<sup>2</sup> of tidal flat habitat. In this case there are 61 cells which contained a single cell of tidal flat, prior to aggregation, 59 which had two, and so on.</p>
<p>Now we need to extract the values that fall with each OHI region polygon. To do this we use another package new to OHI, <code>exactextractr</code>. As we saw in the previous post on soft bottom habitat analysis, this package allows us to extract values from polygons and return an estimate if a polygon goes through a raster cell. This is handy to implement after aggregation as it allows us to maintain a higher level of precision. The <code>raster::extract()</code> function will only include a cell if the center of the cell falls inside a polygon. Our shapefile has separate polygons for all regions&rsquo; EEZ&rsquo;s and for their land area. We want to use both because our data primarily goes through the intersection of these two polygons.</p>
<p>The first thing we need to do is <a href="https://oceanhealthindex.org/global-scores/data-download/">download</a> the OHI region <a href="https://mazu.nceas.ucsb.edu/data/">polygon file</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#e6db74">```</span><span style="color:#f92672">{</span>bash<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>mkdir /&lt;path&gt;/&lt;to&gt;/&lt;directory&gt;/&lt;of&gt;/&lt;choice&gt;/regions <span style="color:#f92672">&amp;&amp;</span> cd $_
</span></span><span style="display:flex;"><span>wget https://ohi.nceas.ucsb.edu/data/data/regions.zip
</span></span><span style="display:flex;"><span>unzip regions.zip 
</span></span><span style="display:flex;"><span>rm regions.zip
</span></span><span style="display:flex;"><span><span style="color:#e6db74">```</span>
</span></span></code></pre></div><p>Next we read in the data and filter for what we want. We also create a dummy dataframe to use when reconstructing the extracted values into a usable data format.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>regions_eez_and_land <span style="color:#f92672">&lt;-</span> here<span style="color:#f92672">::</span><span style="color:#a6e22e">here</span>(<span style="color:#e6db74">&#39;regions&#39;</span>, <span style="color:#e6db74">&#39;regions.shp&#39;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  sf<span style="color:#f92672">::</span><span style="color:#a6e22e">read_sf</span>() <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">filter</span>(rgn_type <span style="color:#f92672">%in%</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;eez&#34;</span>, <span style="color:#e6db74">&#39;land&#39;</span>)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  sf<span style="color:#f92672">::</span><span style="color:#a6e22e">st_transform</span>(crs <span style="color:#f92672">=</span> <span style="color:#ae81ff">4326</span>)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>dummy_df <span style="color:#f92672">&lt;-</span> regions_eez_and_land <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  tibble<span style="color:#f92672">::</span><span style="color:#a6e22e">as_tibble</span>() <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">select</span>(rgn_id, rgn_name) 
</span></span></code></pre></div><p>We use the sum of values in our extraction because our downsampled image has also been converted to area in each pixel. The sum will give us the total area inside each polygon. Our function to extract values then looks like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>exactextractr<span style="color:#f92672">::</span><span style="color:#a6e22e">exact_extract</span>(
</span></span><span style="display:flex;"><span> x <span style="color:#f92672">=</span> down_sampled_image, 
</span></span><span style="display:flex;"><span> y <span style="color:#f92672">=</span> regions_eez_and_land, 
</span></span><span style="display:flex;"><span> fun <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;sum&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><h3 id="putting-it-all-together">Putting it all together</h3>
<p>Now that we have a workflow that has been tested on a single raster, all we have to do is design a loop that goes through each raster file and outputs a simple <code>.csv</code> file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e">### Create an empty intermediate output folder</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dir.create</span>(<span style="color:#e6db74">&#34;int&#34;</span>) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tictoc<span style="color:#f92672">::</span><span style="color:#a6e22e">tic</span>() <span style="color:#75715e"># time this code </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>folders <span style="color:#f92672">&lt;-</span> here<span style="color:#f92672">::</span><span style="color:#a6e22e">here</span>(<span style="color:#e6db74">&#34;tidal_flats&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list.files</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>j <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### To run this code in parallel, </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### Uncomment next two lines and comment out one after</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### You will loose the pretty output messages :(</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># doParallel::registerDoParallel(11)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># foreach::foreach (dir = folders) %dopar% {</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (dir <span style="color:#66d9ef">in</span> folders) { 
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  files <span style="color:#f92672">&lt;-</span> here<span style="color:#f92672">::</span><span style="color:#a6e22e">here</span>(<span style="color:#e6db74">&#34;tidal_flats&#34;</span>, dir) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">list.files</span>()
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  year <span style="color:#f92672">=</span> stringr<span style="color:#f92672">::</span><span style="color:#a6e22e">str_split</span>(dir, pattern <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;-&#34;</span>, n <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)[[1]][2]
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> (file <span style="color:#66d9ef">in</span> files){
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">cat</span>(j, <span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#a6e22e">length</span>(files), <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    j <span style="color:#f92672">&lt;-</span> j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    fn <span style="color:#f92672">&lt;-</span> file <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>      stringr<span style="color:#f92672">::</span><span style="color:#a6e22e">str_replace</span>(
</span></span><span style="display:flex;"><span>        pattern     <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;.tif&#34;</span>,
</span></span><span style="display:flex;"><span>        replacement <span style="color:#f92672">=</span> <span style="color:#a6e22e">paste0</span>(<span style="color:#e6db74">&#34;_&#34;</span>, year, <span style="color:#e6db74">&#34;.csv&#34;</span>))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">### make a new int folder to hold the output</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    file_name <span style="color:#f92672">&lt;-</span> here<span style="color:#f92672">::</span><span style="color:#a6e22e">here</span>(<span style="color:#e6db74">&#34;int&#34;</span>, <span style="color:#e6db74">&#34;tidal_flat&#34;</span>, fn)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">file.exists</span>(file_name)){
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">cat</span>(fn, <span style="color:#e6db74">&#34; is being created!\n&#34;</span>)
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;    down sampling...\n&#34;</span>)
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      image <span style="color:#f92672">&lt;-</span> here<span style="color:#f92672">::</span><span style="color:#a6e22e">here</span>(<span style="color:#e6db74">&#34;tidal_flats&#34;</span>, dir, file) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        terra<span style="color:#f92672">::</span><span style="color:#a6e22e">rast</span>() 
</span></span><span style="display:flex;"><span>       
</span></span><span style="display:flex;"><span>      down_sampled_image <span style="color:#f92672">&lt;-</span> terra<span style="color:#f92672">::</span><span style="color:#a6e22e">aggregate</span>(
</span></span><span style="display:flex;"><span>        x <span style="color:#f92672">=</span> image, 
</span></span><span style="display:flex;"><span>        fact <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>, 
</span></span><span style="display:flex;"><span>        fun <span style="color:#f92672">=</span> sum,
</span></span><span style="display:flex;"><span>        na.rm <span style="color:#f92672">=</span> T
</span></span><span style="display:flex;"><span>      )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;    converting to area (km2)...\n\n&#34;</span>)
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      down_sampled_image <span style="color:#f92672">&lt;-</span> down_sampled_image <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.0009</span>
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;    extracting...\n&#34;</span>)
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      extracted_values <span style="color:#f92672">&lt;-</span> exactextractr<span style="color:#f92672">::</span><span style="color:#a6e22e">exact_extract</span>(
</span></span><span style="display:flex;"><span>        x <span style="color:#f92672">=</span> down_sampled_image, y <span style="color:#f92672">=</span> regions_eez_and_land, fun <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;sum&#39;</span>
</span></span><span style="display:flex;"><span>      )
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">cbind</span>(<span style="color:#e6db74">&#34;km2&#34;</span> <span style="color:#f92672">=</span> extracted_values, dummy_df) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">group_by</span>(rgn_id, rgn_name) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">summarise</span>(km2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">sum</span>(km2)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">mutate</span>(year <span style="color:#f92672">=</span> year, habitat <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;tidal flat&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        readr<span style="color:#f92672">::</span><span style="color:#a6e22e">write_csv</span>(file_name)
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {<span style="color:#a6e22e">cat</span>(<span style="color:#a6e22e">paste0</span>(fn, <span style="color:#e6db74">&#34; already exists!\n&#34;</span>))}
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>tictoc<span style="color:#f92672">::</span><span style="color:#a6e22e">toc</span>()
</span></span></code></pre></div><p>There is a lot to take in there, but if you follow it line by line it isn&rsquo;t too bad.</p>
<blockquote>
<p><strong>To recap:</strong><br>
List raw data folders    <br>
Outer loop iterates through folders<br>
List files in the folder<br>
Find the year by splitting the folder name<br>
Inner loop iterates through files in folder<br>
Check if desired output already esists, if not, create it!<br>
Create the SpatRaster<br>
Down-sample resolution<br>
Convert cell values to area<br>
Extract area inside region polygons<br>
Assign values to dummy dataframe
Summarize to the region level<br>
Write the results!</p>
</blockquote>
<h3 id="consolidate-results">Consolidate results</h3>
<p>The end result of the above workflow produces a single <code>.csv</code> file for every raster in every time step with the extent of tidal wetland in every OHI region. We also know that each raster only covers a 1/108 chunk of the globe, which means there are a lot of 0 values in each of the files. These can be further condensed and summarized with a simple for loop.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e">### Create an empty output folder</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dir.create</span>(<span style="color:#e6db74">&#34;output&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### list csv files with extracted tidal flat values</span>
</span></span><span style="display:flex;"><span>files <span style="color:#f92672">&lt;-</span> here<span style="color:#f92672">::</span><span style="color:#a6e22e">here</span>(<span style="color:#e6db74">&#34;int&#34;</span>, <span style="color:#e6db74">&#34;tidal_flat&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list.files</span>(full.names <span style="color:#f92672">=</span> T)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### make an empty tibble to fill through iteration</span>
</span></span><span style="display:flex;"><span>output <span style="color:#f92672">&lt;-</span> tibble<span style="color:#f92672">::</span><span style="color:#a6e22e">tibble</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### loop through files</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (file <span style="color:#66d9ef">in</span> files) {
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">### read in files, suppress messages with col_types argument</span>
</span></span><span style="display:flex;"><span>  tmp <span style="color:#f92672">&lt;-</span> readr<span style="color:#f92672">::</span><span style="color:#a6e22e">read_csv</span>(file, col_types <span style="color:#f92672">=</span> <span style="color:#a6e22e">cols</span>()) 
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">### bind temporary output to complete output</span>
</span></span><span style="display:flex;"><span>  output <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(output, tmp) 
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### summarize results and write final output</span>
</span></span><span style="display:flex;"><span>final <span style="color:#f92672">&lt;-</span> output <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">group_by</span>(rgn_id, year, habitat) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">summarise</span>(km2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">sum</span>(km2, na.rm <span style="color:#f92672">=</span> T)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">filter</span>(rgn_id <span style="color:#f92672">!=</span> <span style="color:#ae81ff">213</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  readr<span style="color:#f92672">::</span><span style="color:#a6e22e">write_csv</span>(here<span style="color:#f92672">::</span><span style="color:#a6e22e">here</span>(<span style="color:#e6db74">&#39;output&#39;</span>, <span style="color:#e6db74">&#34;tidal_flat_extent.csv&#34;</span>))
</span></span></code></pre></div><p>Now we have a single <code>.csv</code> file with every OHI region  listed a single time for each time step, and a corresponding tidal flat extent for that region. This data is then used as a new layer when calculating the OHI scores.</p>
<p><strong><a href="https://github.com/OHI-Science/ohiprep_v2022/tree/gh-pages/globalprep/hab_tidal_flat/v2022">Check out the full data prep used in the 2022 OHI assessment here.</a></strong></p>
<h2 id="references">References</h2>
<ul>
<li>
<p>Daniel Baston (2022). <em>exactextractr: Fast Extraction from Raster Datasets using Polygons</em>. R package version 0.8.2, <a href="https://CRAN.R-project.org/package=exactextractr">https://CRAN.R-project.org/package=exactextractr</a>.</p>
</li>
<li>
<p>Hijmans R (2022). <em>terra: Spatial Data Analysis</em>. R package version 1.6-3, <a href="https://CRAN.R-project.org/package=terra">https://CRAN.R-project.org/package=terra</a>.</p>
</li>
<li>
<p>Murray, N.J., Phinn, S.R., DeWitt, M. et al. The global distribution and trajectory of tidal flats. Nature 565, 222–225 (2019). <a href="https://doi.org/10.1038/s41586-018-0805-8">https://doi.org/10.1038/s41586-018-0805-8</a></p>
</li>
<li>
<p>R Core Team (2022). R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. URL <a href="https://www.R-project.org/">https://www.R-project.org/</a>.</p>
</li>
<li>
<p>Wickham H, Averick M, Bryan J, Chang W, McGowan LD, François R, Grolemund G, Hayes A, Henry L, Hester J, Kuhn M, Pedersen TL, Miller E, Bache SM, Müller K, Ooms J, Robinson D, Seidel DP, Spinu V, Takahashi K, Vaughan D, Wilke
C, Woo K, Yutani H (2019). “Welcome to the tidyverse.” <em>Journal of Open Source Software</em>, <em>4</em>(43), 1686. doi:10.21105/joss.01686 <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.</p>
</li>
</ul>
<hr>
<p>This post was created by the <a href="https://oceanhealthindex.org/about/ohifellows/">2022 OHI Fellows</a>.</p>
<hr>

</div><div class="column-right">
  
  

  
  
  

  
  
  
    
      
      
    
      
      
    
      
      
    
  
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
  
    
      
      
    
      
      
    
      
      
    
  
    
      
      
    
      
      
    
      
      
    
  
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
  

  
  

  
    
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
      
    
    
      
    
  

  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/" class="right-nav-item">What is OHI</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/news/" class="right-nav-item">News</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/ohifellows/" class="right-nav-item">OHI Fellows</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/people/" class="right-nav-item">People</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/publications/" class="right-nav-item">Publications</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/supporters/" class="right-nav-item">Supporters</a>
    </div>
  
    <div class="right-col-nav">
      <a href= "http://localhost:1313/about/contact/" class="right-nav-item">Contact</a>
    </div>
  
</div></section>


<footer class="footer">
  <div class="footer__content footer__content--top">
    <a class="footer__logo" href="http://localhost:1313/">


  





  
  


<svg class="logo logo--dark" viewBox="0 0 2657 1024" xmlns="http://www.w3.org/2000/svg" title="Ocean Health Index">
  <g class="logo__image">
    <path d="M586 777l-25 188 3 4 3-3 25-188-6-1zM567 773l-49 184c0 3 0 4 3 4h1l4-3 48-184-7-1zM548 766l-72 175c-1 3 0 5 2 5h2l4-2 72-175-8-3zM368 878c3 0 4-1 7-3l134-134-12-11-134 134c-3 2-3 6-2 9l-74 75c-2 1-2 2 0 4l2 1 3-1 75-75c-2 0 0 1 1 1zM402 906c3 0 4-2 5-3l116-151-12-9-115 151c-2 2-2 5 0 8l-66 85v4h1l3-1 66-86 2 2zM528 756l-94 164c-2 1-2 4 0 7l-54 94c-1 2 0 3 1 4h2l2-1 54-95c3 0 4-1 5-2l95-166-11-5zM687 758l-2 2 95 164 1 1h1v-2l-95-165zM669 768l-4 1 72 175 2 1h1l1-2-72-175z"/>
    <path d="M1244 585c11-11 18-26 15-42-2-19-14-33-31-40 12-10 17-27 12-44-6-19-21-32-39-33 12-12 16-30 10-46-8-19-28-29-46-26 13-14 15-33 6-49a39 39 0 00-55-14l-8 3 7-5c17-13 19-37 6-52a37 37 0 00-52-7l-38 29 34-36c14-14 14-36 0-49a34 34 0 00-50 0l-61 60 53-68c10-15 8-36-7-46s-35-8-46 6l-76 99 62-108c8-14 4-33-11-42-14-8-33-4-42 10l-64 112-3 1-1-3 49-117c6-15-2-31-15-37-14-6-30 1-37 14l-50 120-6 4c0-3-2-5-3-7l33-125c4-13-4-27-18-31s-28 4-32 18l-33 125-9 8-5-11 17-127c1-12-7-24-20-25-12-1-24 7-25 20l-17 127c-5 4-8 8-10 15-2-6-6-11-10-15V20a19 19 0 10-39 0v129c-7 5-11 13-11 22v1c-1-9-6-16-13-21L548 22c-1-9-10-17-20-15s-17 10-15 19l17 129c-6 7-9 15-8 24l5 35-9-34c-3-9-9-16-17-18L467 35c-3-7-11-13-19-10s-13 10-10 18l34 127c-5 6-8 15-5 23l17 62-25-58c-4-8-11-13-20-14L389 62c-3-7-10-9-17-7s-9 11-7 17l50 121c-5 7-6 16-2 24l35 87-47-82c-4-8-13-12-21-12L314 96c-2-5-9-7-14-4s-7 9-4 14l65 115c-5 6-5 16-1 24l49 84v2l-3-1-59-76c-5-7-14-10-22-8l-81-105c-2-4-7-4-10-2-4 3-4 8-1 11l80 105c-4 7-4 17 1 24l59 77v5l-5-1-68-68c-6-5-15-7-21-4l-95-95c-3-2-7-2-9 0s-3 7 0 9l94 95c-3 7-2 16 4 21l69 68 2 10c-2-2-6-2-9 0l-76-59c-7-6-15-4-20 0l-108-83c-2-2-5-2-6 1s-1 5 1 7l108 82c-3 7 0 15 5 20l76 59c0 4 3 9 6 12h-13l-85-49c-5-3-13-2-17 2L87 319c-3-1-6 0-7 2s0 5 1 6l120 69c-1 6 1 13 8 15l84 49c1 7 5 12 11 15l4 2h-6c-6-2-13-1-18 1l-89-36c-6-3-12 0-16 4L50 392c-1-2-4 0-5 2s0 4 2 6l129 54c0 5 3 11 8 13l89 36c2 7 7 12 12 15l25 10-26-6c-7-1-13 0-18 4l-95-25c-5-1-11 1-13 5L24 467c-2 0-4 0-4 2s0 4 2 4l137 37c0 5 4 9 8 11l95 25c2 6 6 10 13 13l47 13-49-7c-6-1-13 2-17 7l-97-13c-4 0-8 1-9 5L8 546l-4 2 3 4 142 19c1 3 3 6 7 7l98 14c2 5 8 10 14 10l70 9h-70c-6 0-12 4-16 9h-98c-3 0-7 3-7 6H3c-2 0-3 1-3 2l3 3h144c2 3 4 5 7 5h98c3 5 8 9 16 9h92l-91 12c-6 2-11 6-13 12l-98 13c-3 0-6 3-6 7 0 2 3 5 6 5h1l99-13c2 5 8 8 13 8h2l113-15-110 28c-5 1-9 7-10 12l-98 26c-2 1-4 4-4 7s3 4 6 4h1l97-27c3 4 7 7 12 7h4l130-36-125 52c-5 2-8 8-8 13l-93 39c-1 2-3 3-3 5s3 3 4 3h2l93-39 9 5 5-1 145-61-135 79c-4 3-7 8-6 12l-89 51c-1 1-3 4-1 5l4 2h1l89-52 8 3 5-1 156-90-142 108c-4 3-6 7-4 11l-83 63c-2 1-2 2 0 4l2 1 2-1 83-63 5 1 6-3 152-115c-24-27-39-62-39-100a151 151 0 11293 50h465c27 0 50-23 50-50 2-17-7-33-21-41z"/>
    <path d="M627 778l25 188c0 1 1 3 3 3l2-3-25-188h-5zM647 774l48 184c0 2 2 2 2 2l1-3-49-184-2 1zM610 780h-3v190l3 3 3-3V780h-3z"/>
  </g>
  
  <g class="logo__title">
    <path d="M1496 406c-89 0-141-66-141-140s53-141 141-141c89 0 141 66 141 141 0 76-52 140-141 140zm0-223c-41 0-71 25-71 84 0 39 17 84 71 84 51 0 71-43 71-84 0-42-20-84-71-84z"/>
    <path d="M1822 222c-9-25-32-39-55-39-37 0-66 25-66 84 0 39 16 84 68 84 19 0 44-13 54-37l53 25c-23 41-62 68-107 68-84 0-134-65-134-140s46-141 129-141c53 0 87 25 112 70l-54 26zM1885 400V134h196v51h-129v49h121v51h-121v63h141v52h-208z"/>
    <path d="M2182 134h68l100 266h-71l-13-42h-97l-13 42h-71l97-266zm68 175l-32-109h-2l-33 109h67z"/>
    <path d="M2342 134h67l96 170h2V134h60v266h-65l-98-167h-1v167h-61V134zM1366 419h65v96h99v-96h66v265h-66V572h-97v112h-66V419zM1625 684V419h196v52h-129v48h121v51h-121v64h140v50h-207z"/>
    <path d="M1922 419h68l100 266h-71l-13-42h-99l-13 42h-71l99-266zm68 174l-33-109h-1l-33 109h67z"/>
    <path d="M2082 419h66v209h104v56h-170V419zM2210 419h205v52h-70v213h-66V471h-69v-52zM2424 419h66v96h98v-96h66v265h-66V572h-98v112h-66V419zM1366 703h65v266h-65V703zM1462 703h67l96 170h1V703h61v266h-68l-97-167h-1v167h-61V703zM1713 703h102c82 0 136 38 136 133s-54 133-136 133h-102V703zm67 211h38c50 0 67-35 67-77 0-43-18-76-68-76h-38v153zM1964 969V703h196v52h-129v48h121v51h-121v64h141v51h-208z"/>
    <path d="M2262 826l-88-123h80l49 80 49-80h79l-87 123 101 143h-82l-61-99-63 99h-81l104-143z"/>
    <path d="M2431 703h23v7h-8v25h-8v-25h-7v-7zM2458 703h12l5 23 5-23h11v30h-7v-23l-6 23h-7l-6-23v23h-7v-30z"/>
  </g>
  
</svg></a>
    <div class="footer__socials">
  <div class="socials">
    
      <a class="socials__link socials__link--facebook" href="https://www.facebook.com/OceanHealthIndex/" target="_blank">
        <svg class="socials__icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M449 0c35 0 63 28 63 63v386c0 35-28 63-63 63H343V319h67l12-83h-79v-53c0-23 11-45 47-45h36V68s-33-6-64-6c-66 0-108 40-108 111v63h-73v83h73v193H63c-35 0-63-28-63-63V63C0 28 28 0 63 0h386z"/></svg>
      </a>
    
    
      <a class="socials__link socials__link--twitter" href="https://twitter.com/OceanHealthIndx" target="_blank">
        <svg class="socials__icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M161 464c193 0 299-160 299-299v-13c20-15 38-34 52-55-19 9-40 14-60 17 22-13 38-34 46-58-21 12-43 20-67 25a105 105 0 00-179 96c-84-4-163-44-216-110-28 48-14 110 32 140-17 0-33-5-48-13v2c0 49 36 93 85 103-16 4-32 4-48 1 14 43 54 72 98 73A211 211 0 010 417c48 31 104 47 161 47"/></svg>
      </a>
    
  </div>
</div>
  </div>
  <div class="footer__legal">
    <div class="footer__content footer__content--bottom">
      <div class="footer__copyright">
        ©<script>document.write(new Date().getFullYear());</script> Ocean Health Index
      </div>
      <div class="footer__legal-links">
        <a class="footer__legal-link" href="/privacy-policy">Privacy Policy</a>
        <a class="footer__legal-link" href="/terms-of-service">Terms of Service</a>
      </div>
    </div>
  </div>
</footer><script src="/js/main.js" async></script></body>

</html>